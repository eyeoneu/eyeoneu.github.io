<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My dashboard</title>

    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.4.1.min.js"></script>
    <script src="https://use.fontawesome.com/e6f5e6e77f.js"></script>
 
    <!-- Reference either Knockout or AngularJS, if you do -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular.min.js"></script>
    
    <!-- DevExtreme themes -->
    <link rel="stylesheet" href="https://cdn3.devexpress.com/jslib/19.2.6/css/dx.common.css">
    <link rel="stylesheet" href="https://cdn3.devexpress.com/jslib/19.2.6/css/dx.light.css">
    <link rel="stylesheet" href="../css/dx.generic.custom-ver3.css">
    <link rel="stylesheet" href="../css/PROEPMStylesV2.css">
    
    <!-- DevExtreme library -->
    <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/19.2.6/js/dx.all.js"></script>
    <!-- <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/19.2.6/js/dx.web.js"></script> -->
    <!-- <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/19.2.6/js/dx.viz.js"></script> -->
    <!-- <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/19.2.6/js/dx.viz-web.js"></script> -->
    <script>
        var projectList = [{
            "ID": 1,
            "No": 1,
            "Product code": "SM4175",
            "Segment": "Mobile",
            "Project type": "Platform",
            "Status": "Running",
            "Signal": "fa fa-exclamation-triangle fa-lg proepm-status-danger"
        }, {
            "ID": 2,
            "No": 2,
            "Product code": "SM4175",
            "Segment": "Mobile",
            "Project type": "Platform",
            "Status": "Running",
            "Signal": "fa fa-stop-circle-o fa-lg proepm-status-stop"
        }, {
            "ID": 3,
            "No": 3,
            "Product code": "SM4175",
            "Segment": "Mobile",
            "Project type": "Platform",
            "Status": "Running",
            "Signal": "fa fa-refresh fa-lg proepm-status-run"
        }, {
            "ID": 4,
            "No": 4,
            "Product code": "SM4175",
            "Segment": "Mobile",
            "Project type": "Platform",
            "Status": "Running",
            "Signal": "fa fa-check-circle fa-lg proepm-status-success"
        }];
    </script>

</head>
<body>
    <div class="proepm-wrap proepm-page-wrap">

        <div class="proepm-section-wrap section-grid-4 proepm-dashboard-total">
            <ul>
                <li>
                    <div class="total-tit">Projects</div>
                    <div class="total-cont">
                        <span>2</span>
                        <i class="fa fa-share-alt"></i>
                    </div>
                </li>
                <li>
                    <div class="total-tit">Approvals</div>
                    <div class="total-cont">
                        <span>10</span>
                        <i class="fa fa-pencil-square-o"></i>
                    </div>
                </li>
                <li>
                    <div class="total-tit">Issues</div>
                    <div class="total-cont">
                        <span>2</span>
                        <i class="fa fa-exclamation-circle"></i>
                    </div>
                </li>
                <li>
                    <div class="total-tit">Documents</div>
                    <div class="total-cont">
                        <span>8</span>
                        <i class="fa fa-file-text-o"></i>
                    </div>
                </li>
            </ul>
        </div>
        <div class="proepm-section-wrap section-grid-3">
            <ul>
                <li>
                    <div class="proepm-tit-wrap proepm-section-tit">
                        <h2>Activity</h2>
                    </div>
                    <div class="proepm-dashboard-list1">
                        <ul>
                            <li>
                                <i class="fa fa-pencil"></i>
                                <div class="txt-wrap">
                                    <p class="list-tit">Document registration</p>
                                    <p class="list-cont">Drafted a few minutes ago</p>
                                </div>
                            </li>
                            <li>
                                <i class="fa fa-pencil-square-o"></i>
                                <div class="txt-wrap">
                                    <p class="list-tit">Document registration</p>
                                    <p class="list-cont">Drafted a few minutes ago</p>
                                </div>
                            </li>
                            <li>
                                <i class="fa fa-pencil"></i>
                                <div class="txt-wrap">
                                    <p class="list-tit">Document registration</p>
                                    <p class="list-cont">Drafted a few minutes ago</p>
                                </div>
                            </li>
                            <li>
                                <i class="fa fa-exclamation-circle"></i>
                                <div class="txt-wrap">
                                    <p class="list-tit">Document registration</p>
                                    <p class="list-cont">Drafted a few minutes ago</p>
                                </div>
                            </li>
                            <li>
                                <i class="fa fa-pencil"></i>
                                <div class="txt-wrap">
                                    <p class="list-tit">Document registration</p>
                                    <p class="list-cont">Drafted a few minutes ago</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <div class="proepm-tit-wrap proepm-section-tit">
                        <h2>Meeting log</h2>
                    </div>
                    <div class="proepm-dashboard-list2">
                        <ul>
                            <li>
                                <i class="fa fa-calendar"></i>
                                <div class="txt-wrap">
                                    <p class="list-tit">Kick off meeting</p>
                                    <p class="list-cont">SM4175 (MVT0)<br>P2. Product planning</p>
                                    <p class="list-date">2020-04-02</p>
                                </div>
                            </li>
                            <li>
                                <i class="fa fa-calendar"></i>
                                <div class="txt-wrap">
                                    <p class="list-tit">Kick off meeting</p>
                                    <p class="list-cont">SM4175 (MVT0) P2. Product planning</p>
                                    <p class="list-date">2020-04-02</p>
                                </div>
                            </li>
                            <li>
                                <i class="fa fa-calendar"></i>
                                <div class="txt-wrap">
                                    <p class="list-tit">Kick off meeting</p>
                                    <p class="list-cont">SM4175 (MVT0) P2. Product planning</p>
                                    <p class="list-date">2020-04-02</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <div class="proepm-tit-wrap proepm-section-tit">
                        <h2>Milestone</h2>
                    </div>
                    <div class="proepm-dashboard-date">
                        <div class="date-control">
                            <div class="date-arrow-lt">
                                <i class="dx-icon dx-icon-chevronleft"></i>
                            </div>
                            <div class="date-select date-soon">
                                <p class="date-status">D-14</p>
                                <p class="date-now">2020-04-02</p>
                            </div>
                            <div class="date-desc">
                                <p class="desc-tit">Phase Due date</p>
                                <p class="desc-cont">SM4175 (MVT0) P2. Product planning</p>
                            </div>
                            <div class="date-arrow-rt">
                                <i class="dx-icon dx-icon-chevronright"></i>
                            </div>
                        </div>
                        <div class="date-calendar">
                            <div id="calendar-demo">
                                <div class="widget-container">
                                    <div id="calendar-container"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <div class="proepm-tit-wrap proepm-section-tit">
            <h2>Project timeline</h2>
        </div>
        <div class="proepm-timeline-wrap">
            <div class="proepm-tbl-wrap timeline-tbl">
                <div id="gridCont1" class="proepm-tbl-row proepm-tbl-ct"></div>
            </div>
            <div class="timeline-area">
                <ul>
                    <li class="P1">text area</li>
                    <li class="P2">text area</li>
                    <li class="P3">text area</li>
                    <li class="P4">text area</li>
                    <li class="P5">text area</li>
                    <li class="P6">text area</li>
                </ul>
            </div>
        </div>

    </div>
</body>
</html>

<script>

    $("#gridCont1").dxDataGrid({
        dataSource: projectList,
        showBorders: true,
        columns: [{dataField: "No", width: 45}, "Product code", "Segment", "Project type", "Status", {
            dataField: "Signal",
            width: 60,
            allowFiltering: false,
            allowSorting: false,
            cellTemplate: function (container, options) {
                $("<div class='proepm-icon-signal'>")
                    .append($("<i>", { "class": options.value }))
                    .appendTo(container);
            }
        }]
    });

    $(function(){
        var zoomLevels = ["month", "year", "decade", "century"],
            date = new Date().getTime();
        
        var calendar = $("#calendar-container").dxCalendar({
            value: new Date(),
            disabled: false,
            firstDayOfWeek: 0,
            zoomLevel: zoomLevels[0],
            onValueChanged: function(data) {
                selectedDate.option("value", data.value);
            },
            onOptionChanged: function(data) {
                if(data.name == "zoomLevel") {
                    zoomLevel.option("value", data.value);
                }
            }
        }).dxCalendar("instance");
        
        var zoomLevel = $("#zoom-level").dxSelectBox({
            dataSource: zoomLevels,
            value: zoomLevels[0],
            onValueChanged: function(data) {
                calendar.option("zoomLevel", data.value);
            }
        }).dxSelectBox("instance");
        
        var selectedDate = $("#selected-date").dxDateBox({
            value: new Date(),
            width: "100%",
            onValueChanged: function(data) {
                calendar.option("value", data.value);
            }
        }).dxDateBox("instance");
        
        var holydays = [[1,0], [4,6], [25,11]];
        
        function isWeekend(date) {
            var day = date.getDay();

            return day === 0 || day === 6;
        }

        function getCellTemplate(data) {
            var cssClass = "";
            if(isWeekend(data.date))
                cssClass = "weekend";
        
            $.each(holydays, function(_, item) {
                if(data.date.getDate() === item[0] && data.date.getMonth() === item[1]) {
                    cssClass = "holyday";
                    return false;
                }
            });
        
            return "<span class='" + cssClass + "'>" + data.text + "</span>";
        }
    });

  
</script>